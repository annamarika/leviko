// ArrowSVGInline.tsx
import { forwardRef, Ref } from "react";
import { useDBRStore } from "../../stores/useDBRStore";
import useDarkModeStore from "../../stores/useDarkModeStore";

interface DarkModeProps {
  $isDarkModeOn: boolean;
}

const DBRSVG = forwardRef((props, ref: Ref<SVGSVGElement>) => {
  const { selectedBox, selectBox } = useDBRStore();
  const { isDarkModeOn } = useDarkModeStore();

  const handleBoxClick = (boxId: string) => {
    selectBox(boxId);
  };

  return (
    <svg
      width="100%"
      height="100%"
      viewBox="0 0 1678 586"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      {...props}
    >
      <rect
        x="830"
        y="67"
        width="340"
        height="60"
        fill="url(#paint0_linear_732_864)"
        onClick={() => handleBoxClick("ImplicationofTheory")}
        style={{ cursor: "pointer" }}
      />
      <path
        d="M634 300C661.5 319.333 716.5 374.2 716.5 439C716.5 520 647 571 584.5 571C522 571 454 522.5 454 439C454 355.5 545 309 584.5 287.5C624 266 711 236.5 834 236.5C957 236.5 1058 258 1107.5 272"
        stroke="url(#paint1_linear_732_864)"
        strokeWidth="30"
      />
      <path
        d="M47 319.5C105.333 291.167 252.9 234.5 376.5 234.5C500.1 234.5 555.667 255.833 568 266.5"
        stroke="#182EC0"
        strokeWidth="30"
      />
      <path
        d="M755.861 98.3207C756.315 97.0164 755.625 95.5918 754.321 95.1385L733.067 87.7527C731.763 87.2994 730.339 87.9893 729.885 89.2935C729.432 90.5977 730.122 92.0224 731.426 92.4756L750.318 99.0408L743.753 117.933C743.299 119.237 743.989 120.661 745.293 121.115C746.598 121.568 748.022 120.878 748.476 119.574L755.861 98.3207ZM469.5 401C469.5 399.423 469.537 397.826 469.61 396.211L464.615 395.984C464.538 397.673 464.5 399.345 464.5 401H469.5ZM470.456 386.565C470.858 383.432 471.388 380.238 472.045 376.988L467.144 375.997C466.464 379.359 465.915 382.671 465.497 385.928L470.456 386.565ZM474.273 367.548C475.097 364.485 476.027 361.378 477.065 358.232L472.316 356.666C471.251 359.897 470.293 363.093 469.445 366.25L474.273 367.548ZM480.351 349.057C481.501 346.079 482.742 343.07 484.075 340.033L479.497 338.024C478.135 341.128 476.865 344.206 475.687 347.256L480.351 349.057ZM488.19 331.165C489.599 328.282 491.087 325.377 492.655 322.452L488.248 320.09C486.652 323.069 485.135 326.029 483.698 328.969L488.19 331.165ZM497.438 313.892C499.052 311.117 500.736 308.325 502.489 305.52L498.249 302.87C496.468 305.72 494.757 308.557 493.116 311.379L497.438 313.892ZM507.797 297.304C509.585 294.624 511.435 291.934 513.347 289.233L509.267 286.343C507.328 289.081 505.451 291.81 503.638 294.529L507.797 297.304ZM519.125 281.301C521.065 278.708 523.062 276.108 525.116 273.501L521.189 270.407C519.11 273.045 517.087 275.678 515.122 278.305L519.125 281.301ZM531.284 265.863C533.341 263.375 535.449 260.883 537.609 258.387L533.828 255.115C531.644 257.639 529.512 260.16 527.431 262.677L531.284 265.863ZM544.115 251.029C546.295 248.617 548.522 246.202 550.796 243.785L547.156 240.358C544.858 242.799 542.608 245.239 540.405 247.677L544.115 251.029ZM557.587 236.713C559.854 234.397 562.165 232.082 564.519 229.767L561.013 226.202C558.637 228.539 556.304 230.877 554.015 233.215L557.587 236.713ZM571.608 222.922C573.963 220.689 576.359 218.457 578.795 216.227L575.419 212.539C572.962 214.788 570.544 217.04 568.168 219.293L571.608 222.922ZM586.092 209.662C588.535 207.502 591.016 205.343 593.536 203.189L590.286 199.389C587.746 201.562 585.243 203.738 582.78 205.917L586.092 209.662ZM601.043 196.871C603.548 194.797 606.088 192.727 608.664 190.661L605.536 186.761C602.94 188.843 600.379 190.929 597.854 193.02L601.043 196.871ZM616.413 184.544C618.973 182.555 621.567 180.569 624.193 178.589L621.184 174.597C618.537 176.591 615.924 178.591 613.344 180.597L616.413 184.544ZM632.111 172.711C634.737 170.791 637.395 168.876 640.084 166.967L637.19 162.889C634.481 164.812 631.804 166.741 629.159 168.675L632.111 172.711ZM648.143 161.329C650.833 159.475 653.553 157.628 656.303 155.787L653.521 151.632C650.752 153.485 648.014 155.346 645.306 157.212L648.143 161.329ZM664.492 150.382C667.238 148.596 670.013 146.817 672.816 145.045L670.145 140.818C667.323 142.602 664.53 144.393 661.766 146.191L664.492 150.382ZM681.131 139.863C683.918 138.15 686.733 136.445 689.575 134.747L687.011 130.455C684.151 132.163 681.318 133.879 678.513 135.603L681.131 139.863ZM698.034 129.765C700.86 128.123 703.713 126.49 706.591 124.864L704.132 120.511C701.236 122.146 698.367 123.79 695.523 125.441L698.034 129.765ZM715.181 120.081C718.044 118.508 720.932 116.944 723.844 115.389L721.489 110.978C718.559 112.543 715.654 114.116 712.774 115.698L715.181 120.081ZM732.552 110.803C735.45 109.298 738.372 107.801 741.317 106.314L739.063 101.851C736.101 103.347 733.162 104.852 730.248 106.366L732.552 110.803ZM750.131 101.924C751.611 101.197 753.097 100.473 754.59 99.7501L752.41 95.2499C750.91 95.9764 749.415 96.7053 747.927 97.4364L750.131 101.924Z"
        fill={isDarkModeOn ? "var(--leviko-white)" : "var(--leviko-black)"}
      />
      <path
        d="M1315.86 101.821C1316.31 100.516 1315.62 99.0918 1314.32 98.6385L1293.07 91.2527C1291.76 90.7994 1290.34 91.4893 1289.89 92.7935C1289.43 94.0977 1290.12 95.5224 1291.43 95.9756L1310.32 102.541L1303.75 121.433C1303.3 122.737 1303.99 124.161 1305.29 124.615C1306.6 125.068 1308.02 124.378 1308.48 123.074L1315.86 101.821ZM1029.5 404.5C1029.5 402.923 1029.54 401.326 1029.61 399.711L1024.61 399.484C1024.54 401.173 1024.5 402.845 1024.5 404.5H1029.5ZM1030.46 390.065C1030.86 386.932 1031.39 383.738 1032.05 380.488L1027.14 379.497C1026.46 382.859 1025.91 386.171 1025.5 389.428L1030.46 390.065ZM1034.27 371.048C1035.1 367.985 1036.03 364.878 1037.06 361.732L1032.32 360.166C1031.25 363.397 1030.29 366.593 1029.44 369.75L1034.27 371.048ZM1040.35 352.557C1041.5 349.579 1042.74 346.57 1044.08 343.533L1039.5 341.524C1038.13 344.628 1036.86 347.706 1035.69 350.756L1040.35 352.557ZM1048.19 334.665C1049.6 331.782 1051.09 328.877 1052.66 325.952L1048.25 323.59C1046.65 326.569 1045.13 329.529 1043.7 332.469L1048.19 334.665ZM1057.44 317.392C1059.05 314.617 1060.74 311.825 1062.49 309.02L1058.25 306.37C1056.47 309.22 1054.76 312.057 1053.12 314.879L1057.44 317.392ZM1067.8 300.804C1069.58 298.124 1071.43 295.434 1073.35 292.733L1069.27 289.843C1067.33 292.581 1065.45 295.31 1063.64 298.029L1067.8 300.804ZM1079.12 284.801C1081.07 282.208 1083.06 279.608 1085.12 277.001L1081.19 273.907C1079.11 276.545 1077.09 279.178 1075.12 281.805L1079.12 284.801ZM1091.28 269.363C1093.34 266.875 1095.45 264.383 1097.61 261.887L1093.83 258.615C1091.64 261.139 1089.51 263.66 1087.43 266.177L1091.28 269.363ZM1104.12 254.529C1106.29 252.117 1108.52 249.702 1110.8 247.285L1107.16 243.858C1104.86 246.299 1102.61 248.739 1100.4 251.177L1104.12 254.529ZM1117.59 240.213C1119.85 237.897 1122.16 235.582 1124.52 233.267L1121.01 229.702C1118.64 232.039 1116.3 234.377 1114.01 236.715L1117.59 240.213ZM1131.61 226.422C1133.96 224.189 1136.36 221.957 1138.8 219.727L1135.42 216.039C1132.96 218.288 1130.54 220.54 1128.17 222.793L1131.61 226.422ZM1146.09 213.162C1148.54 211.002 1151.02 208.843 1153.54 206.689L1150.29 202.889C1147.75 205.062 1145.24 207.238 1142.78 209.417L1146.09 213.162ZM1161.04 200.371C1163.55 198.297 1166.09 196.227 1168.66 194.161L1165.54 190.261C1162.94 192.343 1160.38 194.429 1157.85 196.52L1161.04 200.371ZM1176.41 188.044C1178.97 186.055 1181.57 184.069 1184.19 182.089L1181.18 178.097C1178.54 180.091 1175.92 182.091 1173.34 184.097L1176.41 188.044ZM1192.11 176.211C1194.74 174.291 1197.39 172.376 1200.08 170.467L1197.19 166.389C1194.48 168.312 1191.8 170.241 1189.16 172.175L1192.11 176.211ZM1208.14 164.829C1210.83 162.975 1213.55 161.128 1216.3 159.287L1213.52 155.132C1210.75 156.985 1208.01 158.846 1205.31 160.712L1208.14 164.829ZM1224.49 153.882C1227.24 152.096 1230.01 150.317 1232.82 148.545L1230.14 144.318C1227.32 146.102 1224.53 147.893 1221.77 149.691L1224.49 153.882ZM1241.13 143.363C1243.92 141.65 1246.73 139.945 1249.57 138.247L1247.01 133.955C1244.15 135.663 1241.32 137.379 1238.51 139.103L1241.13 143.363ZM1258.03 133.265C1260.86 131.623 1263.71 129.99 1266.59 128.364L1264.13 124.011C1261.24 125.646 1258.37 127.29 1255.52 128.941L1258.03 133.265ZM1275.18 123.581C1278.04 122.008 1280.93 120.444 1283.84 118.889L1281.49 114.478C1278.56 116.043 1275.65 117.616 1272.77 119.198L1275.18 123.581ZM1292.55 114.303C1295.45 112.798 1298.37 111.301 1301.32 109.814L1299.06 105.351C1296.1 106.847 1293.16 108.352 1290.25 109.866L1292.55 114.303ZM1310.13 105.424C1311.61 104.697 1313.1 103.973 1314.59 103.25L1312.41 98.7499C1310.91 99.4764 1309.42 100.205 1307.93 100.936L1310.13 105.424Z"
        fill={isDarkModeOn ? "var(--leviko-white)" : "var(--leviko-black)"}
      />

      {/* Requirements */}
      <circle
        cx="56.5"
        cy="309.5"
        r="56.5"
        fill={selectedBox === "Requirements" ? "#AAFE83" : "#182EC0"}
        onClick={() => handleBoxClick("Requirements")}
        style={{ cursor: "pointer" }}
      />
      <text
        x="56.5"
        y="325"
        textAnchor="middle"
        fill={selectedBox === "Requirements" ? "#0D0D0D" : "#F2F2F2"}
        fontSize="60px"
        fontFamily="Blatant"
        onClick={() => handleBoxClick("Requirements")}
        style={{ cursor: "pointer" }}
      >
        R
      </text>
      {/* Design */}
      <circle
        cx="425.5"
        cy="234.5"
        r="56.5"
        fill={selectedBox === "Design" ? "#AAFE83" : "#182EC0"}
        onClick={() => handleBoxClick("Design")}
        style={{ cursor: "pointer" }}
      />
      <text
        x="425.5"
        y="250"
        textAnchor="middle"
        fill={selectedBox === "Design" ? "#0D0D0D" : "#F2F2F2"}
        fontSize="60px"
        fontFamily="Blatant"
        onClick={() => handleBoxClick("Design")}
        style={{ cursor: "pointer" }}
      >
        D
      </text>

      {/* Analysis */}
      <circle
        cx="466.5"
        cy="390.5"
        r="56.5"
        fill={selectedBox === "Analysis" ? "#AAFE83" : "#182EC0"}
        onClick={() => handleBoxClick("Analysis")}
        style={{ cursor: "pointer" }}
      />
      <text
        x="466.5"
        y="405"
        textAnchor="middle"
        fill={selectedBox === "Analysis" ? "#0D0D0D" : "#F2F2F2"}
        fontSize="60px"
        fontFamily="Blatant"
        onClick={() => handleBoxClick("Analysis")}
        style={{ cursor: "pointer" }}
      >
        A
      </text>

      {/* Implementation */}
      <circle
        cx="697.5"
        cy="503.5"
        r="56.5"
        fill={selectedBox === "Implementation" ? "#AAFE83" : "#182EC0"}
        onClick={() => handleBoxClick("Implementation")}
        style={{ cursor: "pointer" }}
      />
      <text
        x="697.5"
        y="520"
        textAnchor="middle"
        fill={selectedBox === "Implementation" ? "#0D0D0D" : "#F2F2F2"}
        fontSize="60px"
        fontFamily="Blatant"
        onClick={() => handleBoxClick("Implementation")}
        style={{ cursor: "pointer" }}
      >
        I
      </text>

      <path
        d="M277.268 209.768C278.244 208.791 278.244 207.209 277.268 206.232L261.358 190.322C260.382 189.346 258.799 189.346 257.822 190.322C256.846 191.299 256.846 192.882 257.822 193.858L271.964 208L257.822 222.142C256.846 223.118 256.846 224.701 257.822 225.678C258.799 226.654 260.382 226.654 261.358 225.678L277.268 209.768ZM65.7338 84.5557C66.4071 86.0009 67.1375 87.4926 67.9251 89.0261L72.3728 86.7419C71.6132 85.2628 70.9111 83.8286 70.2662 82.4443L65.7338 84.5557ZM72.7576 97.726C74.3719 100.436 76.1378 103.235 78.0556 106.102L82.2115 103.322C80.3411 100.526 78.6218 97.8005 77.0532 95.1672L72.7576 97.726ZM83.7514 114.195C85.6619 116.78 87.6876 119.403 89.8288 122.049L93.7158 118.904C91.6208 116.315 89.6398 113.75 87.7727 111.223L83.7514 114.195ZM96.1968 129.59C98.3348 132.017 100.568 134.453 102.897 136.888L106.51 133.432C104.229 131.047 102.042 128.662 99.9488 126.285L96.1968 129.59ZM109.877 143.896C112.211 146.147 114.629 148.389 117.129 150.612L120.452 146.876C118.002 144.698 115.634 142.502 113.347 140.297L109.877 143.896ZM124.657 157.039C127.179 159.105 129.776 161.148 132.447 163.16L135.455 159.166C132.839 157.195 130.296 155.195 127.826 153.171L124.657 157.039ZM140.463 168.944C143.145 170.797 145.896 172.616 148.714 174.395L151.382 170.167C148.624 168.426 145.931 166.645 143.305 164.831L140.463 168.944ZM157.189 179.5C160.021 181.126 162.916 182.71 165.874 184.246L168.178 179.808C165.284 178.306 162.45 176.756 159.678 175.164L157.189 179.5ZM174.755 188.62C177.718 190.001 180.738 191.333 183.816 192.611L185.733 187.993C182.722 186.743 179.767 185.44 176.868 184.088L174.755 188.62ZM193.041 196.209C196.11 197.331 199.233 198.399 202.41 199.408L203.924 194.643C200.816 193.656 197.76 192.611 194.757 191.513L193.041 196.209ZM211.907 202.202C215.059 203.056 218.261 203.853 221.512 204.587L222.614 199.71C219.432 198.991 216.299 198.212 213.215 197.376L211.907 202.202ZM231.206 206.564C234.416 207.149 237.671 207.673 240.972 208.134L241.663 203.182C238.431 202.731 235.244 202.217 232.102 201.645L231.206 206.564ZM250.79 209.301C254.033 209.62 257.318 209.877 260.645 210.071L260.935 205.079C257.675 204.89 254.456 204.637 251.279 204.325L250.79 209.301ZM270.52 210.452C272.171 210.484 273.83 210.5 275.5 210.5V205.5C273.862 205.5 272.235 205.484 270.617 205.453L270.52 210.452Z"
        fill={isDarkModeOn ? "var(--leviko-white)" : "var(--leviko-black)"}
      />
      <path
        d="M1200 300C1227.5 319.333 1282.5 374.2 1282.5 439C1282.5 520 1213 571 1150.5 571C1088 571 1020 522.5 1020 439C1020 355.5 1111 309 1150.5 287.5C1190 266 1277 236.5 1400 236.5C1523 236.5 1624 258 1673.5 272"
        stroke="#B4CEE6"
        strokeWidth="30"
      />
      {/* Re-Design */}
      <circle
        cx="1257.5"
        cy="503.5"
        r="56.5"
        fill={selectedBox === "ReDesign" ? "#AAFE83" : "#B4CEE6"}
        onClick={() => handleBoxClick("ReDesign")}
        style={{ cursor: "pointer" }}
      />
      <text
        x="1257.5"
        y="520"
        textAnchor="middle"
        fill="#0D0D0D"
        fontSize="60px"
        fontFamily="Blatant"
        onClick={() => handleBoxClick("ReDesign")}
        style={{ cursor: "pointer" }}
      >
        RE
      </text>

      {/* Theory */}
      <circle
        cx="67.5"
        cy="56.5"
        r="56.5"
        fill={selectedBox === "Theory" ? "#AAFE83" : "#182EC0"}
        onClick={() => handleBoxClick("Theory")}
        style={{ cursor: "pointer" }}
      />
      <text
        x="67.5"
        y="75"
        textAnchor="middle"
        fill={selectedBox === "Theory" ? "#0D0D0D" : "#F2F2F2"}
        fontSize="60px"
        fontFamily="Blatant"
        onClick={() => handleBoxClick("Theory")}
        style={{ cursor: "pointer" }}
      >
        T
      </text>

      <defs>
        {/* ImplicationofTheory */}
        <linearGradient
          id="paint0_linear_732_864"
          x1="830"
          y1="97"
          x2="1170"
          y2="97"
          gradientUnits="userSpaceOnUse"
          fill={selectedBox === "ImplicationofTheory" ? "#AAFE83" : "#182EC0"}
          onClick={() => handleBoxClick("ImplicationofTheory")}
          style={{ cursor: "pointer" }}
        >
          <stop
            stopColor={
              selectedBox === "ImplicationofTheory" ? "#AAFE83" : "#182EC0"
            }
            style={{ cursor: "pointer" }}
          />
          <stop
            offset="1"
            stopColor={
              selectedBox === "ImplicationofTheory" ? "#AAFE83" : "#B4CEE6"
            }
            style={{ cursor: "pointer" }}
          />
        </linearGradient>

        <linearGradient
          id="paint1_linear_732_864"
          x1="929.5"
          y1="272"
          x2="660"
          y2="318"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="#B4CEE6" />
          <stop offset="1" stopColor="#182EC0" />
        </linearGradient>
      </defs>
      <text
        x="1000"
        y="115"
        textAnchor="middle"
        fill={selectedBox === "ImplicationofTheory" ? "#0D0D0D" : "#F2F2F2"}
        fontSize="60px"
        fontFamily="Blatant"
        onClick={() => handleBoxClick("ImplicationofTheory")}
        style={{ cursor: "pointer" }}
      >
        IOF
      </text>
    </svg>
  );
});

export default DBRSVG;
